(function(t){function e(e){for(var o,n,i=e[0],l=e[1],c=e[2],d=0,h=[];d<i.length;d++)n=i[d],s[n]&&h.push(s[n][0]),s[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(o=!1)}o&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},s={app:0},r=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},"4e69":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),s=a("bb71");a("da64");o["a"].use(s["a"],{iconfont:"md"});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-toolbar",{attrs:{color:"indigo",dark:"",fixed:"",app:""}},[a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[a("v-btn",{attrs:{flat:"","active-class":"v-btn--inactive",router:"",to:{name:"home"}}},[t._v("Home")]),t.isLogin?t._e():a("v-btn",{attrs:{flat:"","active-class":"v-btn--inactive",router:"",to:{name:"login"}}},[t._v("로그인")]),t.isLogin?t._e():a("v-btn",{attrs:{flat:"","active-class":"v-btn--inactive",router:"",to:{name:"register"}}},[t._v("회원가입")]),t.isLogin?a("v-btn",{attrs:{flat:"","active-class":"v-btn--inactive"},on:{click:function(e){return t.$store.dispatch("logout")}}},[t._v("로그아웃")]):t._e(),t.isLogin?a("v-btn",{attrs:{flat:"","active-class":"v-btn--inactive",router:"",to:{name:"setting"}}},[t._v("개인정보 수정")]):t._e(),t.isLogin?a("v-btn",{attrs:{flat:"","active-class":"v-btn--inactive",router:"",to:{name:"history"}}},[t._v("최근 읽은 게시물")]):t._e()],1),a("v-flex",{attrs:{"xs-12":""}},[a("v-text-field",{staticClass:"mt-2",attrs:{"full-width":"",flat:"",label:"Search","solo-inverted":"",placeholder:"검색 내용 입력하세요"},model:{value:t.keyward,callback:function(e){t.keyward=e},expression:"keyward"}})],1),a("v-btn",{attrs:{flat:""},on:{click:function(e){return e.preventDefault(),t.searchEvent(e)}}},[t._v("검색")]),a("v-toolbar-title",[a("b",[t._v("꺼청닷컴")])])],1),a("v-content",[a("router-view")],1),a("v-footer",{attrs:{color:"indigo",app:""}},[a("span",{staticClass:"white--text"},[t._v("© 2019")])])],1)},n=[],i=a("cebc"),l=a("2f62"),c=a("bc3a"),u=a.n(c),d="http://localhost:3000",h=function(t,e,a){return u()({method:t,url:d+e,data:a}).then(function(t){return t.data})},v={fetch:function(){return u.a.get("http://localhost:3000/detail")}},m={fetch:function(t,e,a,o,s,r){return u.a.post("http://localhost:3000/register",{email:t,password:e,sex:a,age:o,area:s,nickname:r})}},p={fetch:function(t){return u.a.post("http://localhost:3000/login",{email:t.email,password:t.password})}},f={fetch:function(t,e,a,o,s,r){return u.a.post("http://localhost:3000/revise",{email:t,nickname:e,sex:a,area:o,age:s,password:r})},revise:function(t,e){return u.a.post("http://localhost:3000/password",{email:t,password:e})},delete:function(t,e){return u.a.post("http://localhost:3000/delete",{email:t,password:e})}},g={fetch:function(){return h("get","/petitions")}},b={fetch:function(t){return u.a.get(d+"/search",{params:{keyward:t}})}},w={getNewToken:function(){var t=localStorage.getItem("refresh-token");return u.a.defaults.headers.common["Authorization"]="Bearer ".concat(t),u.a.get("http://localhost:3000/refreshtoken")}},k={data:function(){return{keyward:""}},computed:Object(i["a"])({},Object(l["c"])(["isLogin"])),methods:{searchEvent:function(){b.fetch(this.keyward).then(function(t){Rt.$emit("SearchedPetitions",t)}),this.$router.push({path:"/searchresult"}),this.keyward=""}}},x=k,y=a("2877"),_=a("6544"),S=a.n(_),C=a("7496"),A=a("8336"),V=a("549c"),E=a("0e8f"),I=a("553a"),O=a("2677"),$=a("71d9"),T=a("2a7f"),j=Object(y["a"])(x,r,n,!1,null,null,null),D=j.exports;S()(j,{VApp:C["a"],VBtn:A["a"],VContent:V["a"],VFlex:E["a"],VFooter:I["a"],VTextField:O["a"],VToolbar:$["a"],VToolbarItems:T["a"],VToolbarTitle:T["b"]});var L=a("8c4f"),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("ul",[a("div",[a("v-card",[a("h1",[t._v("청원수 Top 5")]),t._l(t.Top5petitions,function(e,o){return a("v-content",{key:o},[a("router-link",{attrs:{to:{name:"detail",query:{title:e.제목,link:e.링크,count:e.참여인원}}}},[a("span",{staticClass:"black--text",on:{click:t.openModal}},[t._v(t._s(o+1)+". "+t._s(e["제목"]))])])],1)})],2)],1)]),a("v-card",[t.showModal?a("router-view"):t._e()],1)],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-card",{attrs:{width:"600",height:"365"}},[t.isEmpty?t._e():a("GChart",{attrs:{type:"ColumnChart",data:t.chartData,options:t.chartOptions}})],1)],1)],1)],1)},P=[],B=(a("ac6a"),a("cb43")),F={components:{GChart:B["GChart"]},data:function(){return{showModal:!1,Top5Empty:!0,isEmpty:!0,petitions:[],Top5petitions:[],chartData:[["item","청원수"],["정치개혁",0],["경제민주화",0],["교통/건축/국토",0],["문화/예술/체육/언론",0],["반려동물",0],["행정",0],["인권/성평등",0],["육아/교육",0],["외교/통일/국방",0],["안전/환경",0],["보건복지",0],["기타",0]],chartOptions:{title:"카테고리별 청원",width:600,height:240}}},created:function(){this.getPetitions();var t=this;Rt.$on("close",function(){t.showModal=!t.showModal})},methods:{getPetitions:function(){var t=this;g.fetch().then(function(e){t.Top5Empty=!1,t.isEmpty=!1,t.petitions=e}).catch(function(){t.$store.dispatch("logout")})},openModal:function(){this.showModal=!0}},watch:{isEmpty:function(){var t=this;this.petitions.forEach(function(e){var a=function(a){t.chartData.forEach(function(t){e[a]["분류"]===t[0]&&t[1]++})};for(var o in e)a(o)})},Top5Empty:function(){var t=this.petitions[0];for(var e in t)this.Top5petitions.length<5&&this.Top5petitions.push(t[e])}}},q=F,N=(a("cccb"),a("b0af")),G=a("a523"),z=a("a722"),R=Object(y["a"])(q,M,P,!1,null,null,null),K=R.exports;S()(R,{VCard:N["a"],VContainer:G["a"],VContent:V["a"],VFlex:E["a"],VLayout:z["a"]});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"max-width":"450px"},attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-alert",{staticClass:"mb-3",attrs:{value:t.isLoginError,type:"error"}},[t._v("\n            아이디와 비밀번호를 확인해주세요\n            ")]),a("v-alert",{attrs:{value:t.isLogin,type:"success"}},[t._v("\n            로그인이 완료되었습니다.\n            ")]),a("v-card",[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("v-btn",{attrs:{flat:"",large:""},on:{click:t.changeDisplay}},[a("b",[t._v("일반로그인")])]),a("v-btn",{attrs:{flat:"",large:""},on:{click:t.changeDisplay}},[a("b",[t._v("소셜 로그인")])])],1)],1),t.show?a("div",{staticClass:"pa-3"},[a("v-text-field",{attrs:{label:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{attrs:{color:"primary",large:"",block:"",depressed:""},on:{click:function(e){return t.login({email:t.email,password:t.password})}}},[t._v("로그인\n                ")])],1):t._e(),t.show?t._e():a("div",{staticClass:"pa-3"},[a("v-btn",{attrs:{large:""}},[t._v("네이버 로그인")]),a("v-btn",{attrs:{large:""}},[t._v("페이스북 로그인")])],1)],1)],1)],1)],1)},U=[],H={data:function(){return{email:null,password:null,show:!0}},computed:Object(i["a"])({},Object(l["c"])(["isLogin","isLoginError"])),methods:Object(i["a"])({},Object(l["b"])(["login"]),{changeDisplay:function(){this.show=!this.show}})},Q=H,W=a("0798"),X=Object(y["a"])(Q,J,U,!1,null,null,null),Y=X.exports;S()(X,{VAlert:W["a"],VBtn:A["a"],VCard:N["a"],VContainer:G["a"],VFlex:E["a"],VLayout:z["a"],VTextField:O["a"],VToolbar:$["a"],VToolbarTitle:T["b"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"max-width":"450px"},attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("v-btn",{attrs:{flat:""},on:{click:t.showRevise}},[a("b",[t._v("정보수정")])]),a("v-btn",{attrs:{flat:""},on:{click:t.showChange}},[a("b",[t._v("비밀번호 변경")])]),a("v-btn",{attrs:{flat:""},on:{click:t.showDelete}},[a("b",[t._v("회원 탈퇴")])])],1)],1),t.reviseshow?a("div",{staticClass:"pa-3"},[a("v-text-field",{attrs:{label:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"닉네임",type:"nickname"},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}}),a("v-select",{attrs:{items:t.Sexitems,label:"성별"},model:{value:t.Sex,callback:function(e){t.Sex=e},expression:"Sex"}}),a("v-select",{attrs:{items:t.Areaitems,label:"지역"},model:{value:t.Area,callback:function(e){t.Area=e},expression:"Area"}}),a("v-select",{attrs:{items:t.Ageitems,label:"나이"},model:{value:t.Age,callback:function(e){t.Age=e},expression:"Age"}}),a("v-btn",{attrs:{color:"primary",large:"",block:"",depressed:""},on:{click:t.revise}},[t._v("수정하기\n                ")])],1):t._e(),t.changeshow?a("div",{staticClass:"pa-3"},[a("v-alert",{staticClass:"mb-3",attrs:{value:t.error,type:"error"}},[t._v("\n                        입력하신 비밀번호가 다릅니다.\n                    ")]),a("v-text-field",{attrs:{label:"새로운 비밀번호",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{label:"비밀번호 재입력",type:"password"},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),a("v-btn",{attrs:{color:"primary",large:"",block:"",depressed:""},on:{click:t.revisePassword}},[t._v("비밀번호 변경\n                    ")])],1):t._e(),t.deleteshow?a("div",{staticClass:"pa-3"},[a("v-alert",{staticClass:"mb-3",attrs:{value:t.delerror,type:"error"}},[t._v("\n                        비밀번호가 일치하지 않습니다.\n                    ")]),a("v-text-field",{attrs:{label:"현재 비밀번호",type:"password"},model:{value:t.delpassword,callback:function(e){t.delpassword=e},expression:"delpassword"}}),a("v-text-field",{attrs:{label:"비밀번호 재입력",type:"password"},model:{value:t.delpassword2,callback:function(e){t.delpassword2=e},expression:"delpassword2"}}),a("v-btn",{attrs:{color:"primary",large:"",block:"",depressed:""},on:{click:t.deleteInfo}},[t._v("회원 탈퇴\n                    ")])],1):t._e()],1)],1)],1)],1)},tt=[],et=(a("a481"),{data:function(){return{Sexitems:["남자","여자"],Ageitems:["10대","20대","30대","40대","50대","60대"],Areaitems:["경기도","강원도","충청남도","충청북도","경상북도","경상남도","전라북도","전라남도","제주도"],email:localStorage.getItem("email"),nickname:localStorage.getItem("Nickname"),Sex:localStorage.getItem("Sex"),Area:localStorage.getItem("Area"),Age:localStorage.getItem("Age"),password:"",password2:"",delpassword:"",delpassword2:"",reviseshow:!0,changeshow:!1,error:!1,delerror:!1,deleteshow:!1}},methods:{revise:function(){var t=this;f.fetch(this.email,this.nickname,this.Sex,this.Area,this.Age).then(function(e){200===e.status&&(t.$router.replace({path:"/"}),localStorage.setItem("email",t.email),localStorage.setItem("Nickname",t.nickname),localStorage.setItem("Sex",t.Sex),localStorage.setItem("Area",t.Area),localStorage.setItem("Age",t.Age))}).catch(function(){w.getNewToken().then(function(e){if(200===e.status){var a=e.data.token;localStorage.removeItem("access-token"),localStorage.setItem("access-token",a);var o=localStorage.getItem("access-token");u.a.defaults.headers.common["Authorization"]="Bearer ".concat(o),t.$router.replace({name:"home"})}})})},revisePassword:function(){var t=this;f.revise(this.email,this.password2).then(function(e){200===e.status&&t.$router.replace({path:"/"})}).catch(function(){w.getNewToken().then(function(e){if(200===e.status){var a=e.data.token;localStorage.removeItem("access-token"),localStorage.setItem("access-token",a);var o=localStorage.getItem("access-token");u.a.defaults.headers.common["Authorization"]="Bearer ".concat(o),t.$router.replace({name:"home"})}})})},deleteInfo:function(){var t=this;f.delete(this.email,this.delpassword2).then(function(e){200===e.status&&(t.$router.replace({path:"/"}),t.$store.dispatch("logout"))}).catch(function(){t.delerror=!0})},showRevise:function(){this.deleteshow=!1,this.changeshow=!1,this.reviseshow=!0},showChange:function(){this.deleteshow=!1,this.changeshow=!0,this.reviseshow=!1},showDelete:function(){this.deleteshow=!0,this.changeshow=!1,this.reviseshow=!1}},computed:Object(i["a"])({},Object(l["c"])(["userInfo"])),watch:{password2:function(){this.password!==this.password2?this.error=!0:this.error=!1}}}),at=et,ot=a("b56d"),st=Object(y["a"])(at,Z,tt,!1,null,null,null),rt=st.exports;S()(st,{VAlert:W["a"],VBtn:A["a"],VCard:N["a"],VContainer:G["a"],VFlex:E["a"],VLayout:z["a"],VSelect:ot["a"],VTextField:O["a"],VToolbar:$["a"],VToolbarTitle:T["b"]}),o["a"].use(l["a"]);var nt=new l["a"].Store({state:{userInfo:null,isLogin:!1,isLoginError:!1},mutations:{loginSuccess:function(t){t.isLogin=!0},loginError:function(t){t.isLoginError=!0},logout:function(t){t.isLogin=!1,t.isLoginError=!1,t.userInfo=null}},actions:{login:function(t,e){var a=t.dispatch;p.fetch(e).then(function(t){var e=t.data.token,o=t.data.RefreshToken;localStorage.setItem("access-token",e),localStorage.setItem("refresh-token",o),localStorage.setItem("email",t.data.email),localStorage.setItem("Nickname",t.data.Nickname),localStorage.setItem("Sex",t.data.Sex),localStorage.setItem("Area",t.data.Area),localStorage.setItem("Age",t.data.Age),a("gettoken")}).catch(function(){a("getError")})},gettoken:function(t){var e=t.commit,a=localStorage.getItem("access-token");if(zt.push({name:"home"}),null!==a){e("loginSuccess");var o=localStorage.getItem("access-token");u.a.defaults.headers.common["Authorization"]="Bearer ".concat(o)}},getError:function(t){var e=t.commit;e("loginError")},logout:function(t){var e=t.commit;localStorage.removeItem("access-token"),localStorage.removeItem("email"),localStorage.removeItem("Nickname"),localStorage.removeItem("Sex"),localStorage.removeItem("Area"),localStorage.removeItem("Age"),e("logout"),zt.push({name:"home"})}}}),it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[t._t("header")],2),a("h3",[t._v(" "+t._s(this.$route.query.title)+" ")]),a("h4",[t._v(t._s(this.$route.query.count))]),a("div",{staticClass:"modal-body"},[t._t("body",[t.isEmpty?t._e():a("GChart",{attrs:{type:"PieChart",data:t.AgeData,options:t.AgeOptions}}),t.isEmpty?t._e():a("GChart",{attrs:{type:"PieChart",data:t.SexData,options:t.SexOptions}}),t.isEmpty?t._e():a("GChart",{attrs:{type:"PieChart",data:t.SexData,options:t.AreaOptions}}),a("div")])],2),a("div",{staticClass:"modal-footer"},[t._t("footer",[a("span",{staticClass:"black--text"},[a("b",[a("v-btn",{on:{click:t.close}},[t._v("종료하기")])],1)]),a("router-link",{attrs:{to:"/"}},[a("span",{staticClass:"black--text"},[a("b",[a("v-btn",[t._v("공감하기")])],1)])]),a("router-link",{attrs:{to:{name:"chatting",query:{title:this.$route.query.title}}}},[a("span",{staticClass:"black--text"},[a("b",[a("v-btn",[t._v("대화방 참여")])],1)])]),a("a",{attrs:{href:this.$route.query.link}},[a("span",{staticClass:"black--text"},[a("b",[a("v-btn",[t._v("원문 보기")])],1)])])])],2)])])])])],1)},lt=[],ct={components:{GChart:B["GChart"]},data:function(){return{isEmpty:!0,userInfo:[],AgeData:[["age","공감수"],["10대",0],["20대",0],["30대",0],["40대",0],["50대",0]],SexData:[["sex","공감수"],["남자",0],["여자",0]],AgeOptions:{title:"연령별 분포"},SexOptions:{title:"성별 분포"},AreaOptions:{title:"지역별 분포"}}},created:function(){this.getUsers()},methods:{getUsers:function(){var t=this;v.fetch().then(function(e){t.isEmpty=!1,t.userInfo.push(e.data)}).catch(function(){w.getNewToken().then(function(e){if(200===e.status){var a=e.data.token;localStorage.removeItem("access-token"),localStorage.setItem("access-token",a);var o=localStorage.getItem("access-token");u.a.defaults.headers.common["Authorization"]="Bearer ".concat(o),t.$router.replace({name:"home"})}})})},close:function(){Rt.$emit("close")}},watch:{isEmpty:function(){var t=this;this.userInfo.forEach(function(e){var a=function(a){t.AgeData.forEach(function(t){t[0]===e[a].age&&t[1]++}),t.SexData.forEach(function(t){t[0]===e[a].sex&&t[1]++})};for(var o in e)a(o)})}}},ut=ct,dt=(a("6d33"),Object(y["a"])(ut,it,lt,!1,null,null,null)),ht=dt.exports;S()(dt,{VBtn:A["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",[a("v-flex",[a("h1",[t._v("검색결과")]),t._l(t.foundData,function(e,o){return a("v-list",{key:o},[a("router-link",{attrs:{to:{name:"result",query:{title:e.제목,link:e.링크,count:e.참여인원}}}},[a("span",{staticClass:"black--text",on:{click:t.openModal}},[t._v(t._s(o+1)+". "+t._s(e["제목"]))])])],1)}),a("v-card",[t.showModal?a("router-view"):t._e()],1),0===t.foundData.length?a("v-list",[t._v("검색결과가 존재하지 않습니다.")]):t._e()],2)],1)],1)},mt=[],pt={data:function(){return{result:"",keyward:"",isEmpty:!0,foundData:[],showModal:!1}},created:function(){var t=this,e=this;Rt.$on("SearchedPetitions",function(a){e.result=a.data,e.keyward=a.config.params.keyward,0===t.foundData.length?e.searchKeyward():(t.foundData.splice(0,t.foundData.length),e.searchKeyward())}),Rt.$on("close",function(){e.showModal=!e.showModal})},methods:{searchKeyward:function(){var t=this;this.result.forEach(function(e){for(var a in e)-1!==e[a]["제목"].indexOf(t.keyward)&&t.foundData.push(e[a])})},openModal:function(){this.showModal=!0}}},ft=pt,gt=a("8860"),bt=Object(y["a"])(ft,vt,mt,!1,null,null,null),wt=bt.exports;S()(bt,{VCard:N["a"],VContainer:G["a"],VFlex:E["a"],VLayout:z["a"],VList:gt["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",[a("v-flex",[a("h1",[t._v("최근 읽은 게시물")])])],1)],1)},xt=[],yt={},_t=yt,St=Object(y["a"])(_t,kt,xt,!1,null,null,null),Ct=St.exports;S()(St,{VContainer:G["a"],VFlex:E["a"],VLayout:z["a"]});var At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mt-3"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-title"},[a("h3",[t._v(t._s(this.$route.query.title))]),a("hr")]),a("div",{staticClass:"card-body"},t._l(t.messages,function(e,o){return a("div",{key:o,staticClass:"messages"},[a("p",[a("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.user)+": ")]),t._v(t._s(e.message))])])}),0)]),a("div",{staticClass:"card-footer"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.sendMessage(e)}}},[a("div",{staticClass:"gorm-group"},[a("label",{attrs:{for:"user"}},[t._v("이름:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user},on:{input:function(e){e.target.composing||(t.user=e.target.value)}}})]),a("div",{staticClass:"gorm-group pb-3"},[a("label",{attrs:{for:"message"}},[t._v("메시지:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})]),a("v-btn",{on:{click:t.sendMessage}},[t._v("보내기")])],1),a("v-btn",{on:{click:t.leave}},[t._v("나가기")])],1)])},Vt=[],Et=a("75fc"),It=a("8055"),Ot=a.n(It),$t={data:function(){return{user:"",message:"",messages:[],socket:Ot()("localhost:3000")}},methods:{sendMessage:function(){this.socket.emit("chat message",{user:this.user,message:this.message,roomname:this.$route.query.title}),this.message=""},leave:function(){this.socket.emit("leaveRoom",this.$route.query.title),this.$router.replace({path:"/"})}},created:function(){},mounted:function(){var t=this;this.socket.on("chat message",function(e){t.messages=[].concat(Object(Et["a"])(t.messages),[e])}),this.socket.emit("joinRoom",this.$route.query.title)}},Tt=$t,jt=Object(y["a"])(Tt,At,Vt,!1,null,null,null),Dt=jt.exports;S()(jt,{VBtn:A["a"]});var Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"max-width":"450px"},attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-alert",{staticClass:"mb-3",attrs:{value:t.error,type:"error"}},[t._v("\n                중복된 이메일 입니다.\n            ")]),a("v-card",[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("회원가입")])],1),a("div",{staticClass:"pa-3"},[a("v-text-field",{attrs:{label:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{label:"닉네임",type:"name"},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}}),a("v-select",{attrs:{items:t.Sexitems,label:"성별"},model:{value:t.Sexvalue,callback:function(e){t.Sexvalue=e},expression:"Sexvalue"}}),a("v-select",{attrs:{items:t.Areaitems,label:"지역"},model:{value:t.Areavalue,callback:function(e){t.Areavalue=e},expression:"Areavalue"}}),a("v-select",{attrs:{items:t.Ageitems,label:"나이"},model:{value:t.Agevalue,callback:function(e){t.Agevalue=e},expression:"Agevalue"}}),a("v-btn",{attrs:{color:"primary",large:"",block:"",depressed:""},on:{click:t.register}},[t._v("회원가입\n                ")])],1)],1)],1)],1)],1)},Mt=[],Pt={data:function(){return{email:"",password:"",nickname:"",Sexitems:["남자","여자"],Ageitems:["10대","20대","30대","40대","50대","60대"],Areaitems:["경기도","강원도","충청남도","충청북도","경상북도","경상남도","전라북도","전라남도","제주도"],Sexvalue:"",Agevalue:"",Areavalue:"",error:!1}},methods:{register:function(){var t=this;m.fetch(this.email,this.password,this.Sexvalue,this.Agevalue,this.Areavalue,this.nickname).then(function(){t.$router.replace({path:"/login"})}).catch(function(){t.error=!0})}}},Bt=Pt,Ft=Object(y["a"])(Bt,Lt,Mt,!1,null,null,null),qt=Ft.exports;S()(Ft,{VAlert:W["a"],VBtn:A["a"],VCard:N["a"],VContainer:G["a"],VFlex:E["a"],VLayout:z["a"],VSelect:ot["a"],VTextField:O["a"],VToolbar:$["a"],VToolbarTitle:T["b"]}),o["a"].use(L["a"]);var Nt=function(t,e,a){!0===nt.state.isLogin?(alert("이미 로그인 하였습니다."),a("/")):a()},Gt=function(t,e,a){null===localStorage.getItem("access-token")?(alert("로그인 하셔야 사용 가능 합니다."),a("/login")):a()},zt=new L["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:K,children:[{path:"detail/:title",name:"detail",beforeEnter:Gt,component:ht}]},{path:"/login",name:"login",beforeEnter:Nt,component:Y},{path:"/mypage",name:"mypage",beforeEnter:Gt,component:rt},{path:"/searchresult",name:"searchresult",beforeEnter:Gt,component:wt,children:[{path:"result/:title",name:"result",beforeEnter:Gt,component:ht}]},{path:"/history",name:"history",beforeEnter:Gt,component:Ct},{path:"/setting",name:"setting",beforeEnter:Gt,component:rt},{path:"/chatting/:title",name:"chatting",beforeEnter:Gt,component:Dt},{path:"/register",name:"register",component:qt}]});a.d(e,"eventBus",function(){return Rt}),o["a"].config.productionTip=!1;var Rt=new o["a"];new o["a"]({router:zt,store:nt,beforeCreate:function(){this.$store.dispatch("gettoken")},render:function(t){return t(D)}}).$mount("#app")},"6d33":function(t,e,a){"use strict";var o=a("c290"),s=a.n(o);s.a},c290:function(t,e,a){},cccb:function(t,e,a){"use strict";var o=a("4e69"),s=a.n(o);s.a}});
//# sourceMappingURL=app.c930e60b.js.map